<!doctype html><html lang=en dir=ltr><head><meta charset=UTF-8><title>How to run something periodically in Minetest | Farooq's</title><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=generator content="Hugo 0.148.1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content="Farooq,Farooq Karimi Zadeh,farooqkz"><link rel=icon type=image/png href=/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicon-16x16.png sizes=16x16><link rel=stylesheet type=text/css media=screen href=/css/normalize.css><link rel=stylesheet type=text/css media=screen href=/css/main.css><link rel=stylesheet type=text/css media=screen href=/css/all.css><script defer src=/js/jalali.js crossorigin=anonymous></script><link rel=stylesheet href=/css/katex.css crossorigin=anonymous><script defer src=/js/katex.js integrity=sha384-HELAAZU8xvHgfT/8z4Mhmu+E2z3oBrMEuywaMh/CEd5uTZIDSct7TEaX+S43+dOi crossorigin=anonymous></script><script defer src=/js/auto-render.js integrity=sha384-0QrOZ8WIARJUoT5pH7Iuzi7iq0mXUXLF9yj5ZvYxTkMRv1zcaPQiOQ9ksHYbKw7M crossorigin=anonymous onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><meta property="og:url" content="http://far.chickenkiller.com/computing/how-to-run-something-every-60-seconds-in-minetest/"><meta property="og:site_name" content="Farooq's"><meta property="og:title" content="How to run something periodically in Minetest"><meta property="og:description" content="This is a quick note to show how to run something periodically in Minetest. What you want to use is globalstep. With minetest.register_globalstep(function(dtime)) you can run a function every step of the server which is usually 0.1
To achieve this goal, you need a variable to watch over time, decrease or increase it on every call of the globalstep and finally when it reaches some condition, execute the actual code. It will be something like:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="computing"><meta property="article:published_time" content="2024-05-04T19:47:13+03:30"><meta property="article:modified_time" content="2024-05-04T19:47:13+03:30"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to run something periodically in Minetest"><meta name=twitter:description content="This is a quick note to show how to run something periodically in Minetest. What you want to use is globalstep. With minetest.register_globalstep(function(dtime)) you can run a function every step of the server which is usually 0.1
To achieve this goal, you need a variable to watch over time, decrease or increase it on every call of the globalstep and finally when it reaches some condition, execute the actual code. It will be something like:"><meta itemprop=name content="How to run something periodically in Minetest"><meta itemprop=description content="This is a quick note to show how to run something periodically in Minetest. What you want to use is globalstep. With minetest.register_globalstep(function(dtime)) you can run a function every step of the server which is usually 0.1
To achieve this goal, you need a variable to watch over time, decrease or increase it on every call of the globalstep and finally when it reaches some condition, execute the actual code. It will be something like:"><meta itemprop=datePublished content="2024-05-04T19:47:13+03:30"><meta itemprop=dateModified content="2024-05-04T19:47:13+03:30"><meta itemprop=wordCount content="99"><meta itemprop=keywords content="Computing"></head><script defer>const persianRegex=/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF\u200B\u200D\u2060\u0020]/g;document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(`
    .markdown p,
    .markdown h1,
    .markdown h2,
    .markdown h3,
    .markdown h4,
    .markdown h5,
    .markdown h6,
    .markdown li,
    .markdown blockquote,
    .markdown dd,
    .markdown dt,
    .markdown td,
    .markdown th,
    pre
    .post-header
  `);e.forEach(e=>{const n=e.textContent[0].match(persianRegex)!==null,s=Array.from(e.textContent.matchAll(persianRegex)).length*(n?1.2:1),t=s>=e.textContent.length/2;e.style.direction=t?"rtl":"ltr",e.style.textAlign=t?"right":"left",e.tagName.match(/^H[1-6]$/)&&(e.style.marginRight=t?"1rem":"-1",e.style.marginLeft=t?"0":"1rem")})})</script><body><header><div id=avatar><a href=http://far.chickenkiller.com/><img src=/mylogo0.png alt="Farooq's"></a></div><div id=titletext><h2 id=titleonly><a href=http://far.chickenkiller.com/>Farooq's</a></h2></div><div id=title-social><div id=social><nav><ul><li><a href=/index.xml rel=me aria-label=RSS><span title=RSS class="icons fas fa-rss" aria-hidden=true></span></a></li><li><a href=https://github.com/farooqkz rel=me aria-label=Github><span title=Github class="icons fab fa-github" aria-hidden=true></span></a></li><li><a href=https://cr8r.gg/@farooqkz rel=me aria-label=Mastodon><span title=Mastodon class="icons fab fa-mastodon" aria-hidden=true></span></a></li><li><button id=dark-mode aria-label="Switch Dark Mode"><span title="Switch Dark Mode" class="icons fas fa-moon" aria-hidden=true></span></button></li></ul></nav></div></div><div id=mainmenu><nav><ul><li><a href=/>Home</a></li><li><a href=/categories>Categories</a></li><li><a href=/_pages/projects>Projects</a></li><li><a href=/links>Links</a></li><li><a href=/_pages/about-me>About</a></li></ul></nav></div></header><main><div class=post dir=auto><article><div class=post-header dir=auto><div class=meta dir=auto><div class=date data-date=2024-05-04><span class=day>04</span>
<span class=rest>May 2024</span></div></div><div class=matter dir=auto><h1 class=title>How to run something periodically in Minetest</h1><p class=post-meta dir=auto><span class=post-meta></span></p></div></div><div class=markdown><p>This is a quick note to show how to run something periodically in Minetest. What you want to use
is <code>globalstep</code>. With <code>minetest.register_globalstep(function(dtime))</code> you can run a function every step of the server
which is usually 0.1</p><p>To achieve this goal, you need a variable to watch over time, decrease or increase it on every call of the globalstep and
finally when it reaches some condition, execute the actual code. It will be something like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#66d9ef>local</span> timer <span style=color:#f92672>=</span> <span style=color:#ae81ff>60</span>
</span></span><span style=display:flex><span>minetest.register_globalstep(<span style=color:#66d9ef>function</span>(dtime)
</span></span><span style=display:flex><span>    timer <span style=color:#f92672>=</span> timer <span style=color:#f92672>-</span> dtime
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> timer <span style=color:#f92672>==</span> <span style=color:#ae81ff>0.0</span> <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>        minetest.chat_send_all(<span style=color:#e6db74>&#34;a minute has passed!&#34;</span>)
</span></span><span style=display:flex><span>        timer <span style=color:#f92672>=</span> <span style=color:#ae81ff>60</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>)
</span></span></code></pre></div></div><div class=tags dir=auto><div class=taxosfloating_left><p>Categories</p></div><div class=termsfloating_right><p><a href=/categories/computing/>computing</a></p></div><div class=clearit></div></div></article></div></main><footer>(C) Some rights are reserved under CC-BY-SA 4.0 for Farooq Karimi Zadeh</footer><script src=/js/dark-mode.js></script></body></html>