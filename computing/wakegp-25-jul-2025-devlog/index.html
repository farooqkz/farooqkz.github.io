<!doctype html><html lang=en dir=ltr><head><meta charset=UTF-8><title>WakeGP 25 Jul 2025 Devlog | Farooq's</title><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=generator content="Hugo 0.148.2"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content="Farooq,Farooq Karimi Zadeh,farooqkz"><link rel=icon type=image/png href=/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicon-16x16.png sizes=16x16><link rel=stylesheet type=text/css media=screen href=/css/normalize.css><link rel=stylesheet type=text/css media=screen href=/css/main.css><link rel=stylesheet type=text/css media=screen href=/css/all.css><script defer src=/js/jalali.js crossorigin=anonymous></script><link rel=stylesheet href=/css/katex.css crossorigin=anonymous><script defer src=/js/katex.js integrity=sha384-HELAAZU8xvHgfT/8z4Mhmu+E2z3oBrMEuywaMh/CEd5uTZIDSct7TEaX+S43+dOi crossorigin=anonymous></script><script defer src=/js/auto-render.js integrity=sha384-0QrOZ8WIARJUoT5pH7Iuzi7iq0mXUXLF9yj5ZvYxTkMRv1zcaPQiOQ9ksHYbKw7M crossorigin=anonymous onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><script async src=/count.js data-goatcounter=https://farooqkz.goatcounter.com/count></script><meta property="og:url" content="http://far.chickenkiller.com/computing/wakegp-25-jul-2025-devlog/"><meta property="og:site_name" content="Farooq's"><meta property="og:title" content="WakeGP 25 Jul 2025 Devlog"><meta property="og:description" content="Checking the project’s git log, the first commit is in early 2023. And now at the time of writing this devlog, it’s mid 2025. 2.5 years since I started WakeGP research has passed. As the first research project, I chose something big. This, and at the same time the gray dog tying me hands, made this research take more than 2 years.
The problem with gray dog ruling you is not just that you’ll have reduced work hours. But also that you’ll have lower concentration. And this could result in a negative impact. Various ridiculous bugs which I found in feature extraction. And those made all my 6 months(or more) of experiments, all in vein."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="computing"><meta property="article:published_time" content="2025-07-25T10:05:52+03:30"><meta property="article:modified_time" content="2025-07-25T10:05:52+03:30"><meta name=twitter:card content="summary"><meta name=twitter:title content="WakeGP 25 Jul 2025 Devlog"><meta name=twitter:description content="Checking the project’s git log, the first commit is in early 2023. And now at the time of writing this devlog, it’s mid 2025. 2.5 years since I started WakeGP research has passed. As the first research project, I chose something big. This, and at the same time the gray dog tying me hands, made this research take more than 2 years.
The problem with gray dog ruling you is not just that you’ll have reduced work hours. But also that you’ll have lower concentration. And this could result in a negative impact. Various ridiculous bugs which I found in feature extraction. And those made all my 6 months(or more) of experiments, all in vein."><meta itemprop=name content="WakeGP 25 Jul 2025 Devlog"><meta itemprop=description content="Checking the project’s git log, the first commit is in early 2023. And now at the time of writing this devlog, it’s mid 2025. 2.5 years since I started WakeGP research has passed. As the first research project, I chose something big. This, and at the same time the gray dog tying me hands, made this research take more than 2 years.
The problem with gray dog ruling you is not just that you’ll have reduced work hours. But also that you’ll have lower concentration. And this could result in a negative impact. Various ridiculous bugs which I found in feature extraction. And those made all my 6 months(or more) of experiments, all in vein."><meta itemprop=datePublished content="2025-07-25T10:05:52+03:30"><meta itemprop=dateModified content="2025-07-25T10:05:52+03:30"><meta itemprop=wordCount content="943"><meta itemprop=keywords content="Computing"></head><script defer>const persianRegex=/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF\u200B\u200D\u2060\u0020]/g;document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(`
    .markdown p,
    .markdown h1,
    .markdown h2,
    .markdown h3,
    .markdown h4,
    .markdown h5,
    .markdown h6,
    .markdown li,
    .markdown blockquote,
    .markdown dd,
    .markdown dt,
    .markdown td,
    .markdown th,
    pre,
    .post-header
  `);e.forEach(e=>{if(!e.textContent)return;const n=e.textContent[0].match(persianRegex)!==null,s=Array.from(e.textContent.matchAll(persianRegex)).length*(n?1.2:1),t=s>=e.textContent.length/2;e.style.direction=t?"rtl":"ltr",e.style.textAlign=t?"right":"left",e.tagName.match(/^H[1-6]$/)&&(e.style.marginRight=t?"1rem":"-1",e.style.marginLeft=t?"0":"1rem")})})</script><body><header><div id=avatar><a href=http://far.chickenkiller.com/><img src=/mylogo0.png alt="Farooq's"></a></div><div id=titletext><h2 id=titleonly><a href=http://far.chickenkiller.com/>Farooq's</a></h2></div><div id=title-social><div id=social><nav><ul><li><a href=/index.xml rel=me aria-label=RSS><span title=RSS class="icons fas fa-rss" aria-hidden=true></span></a></li><li><a href=https://github.com/farooqkz rel=me aria-label=Github><span title=Github class="icons fab fa-github" aria-hidden=true></span></a></li><li><a href=https://cr8r.gg/@farooqkz rel=me aria-label=Mastodon><span title=Mastodon class="icons fab fa-mastodon" aria-hidden=true></span></a></li><li><button id=dark-mode aria-label="Switch Dark Mode"><span title="Switch Dark Mode" class="icons fas fa-moon" aria-hidden=true></span></button></li></ul></nav></div></div><div id=mainmenu><nav><ul><li><a href=/>Home</a></li><li><a href=/categories>Categories</a></li><li><a href=/_pages/projects>Projects</a></li><li><a href=/_pages/links>Links</a></li><li><a href=/_pages/about-me>About</a></li></ul></nav></div></header><main><div class=post dir=auto><article><div class=post-header><div class=meta dir=auto><div class=date data-date=2025-07-25><span class=day>25</span>
<span class=rest>Jul 2025</span></div></div><div class=matter dir=auto><h1 class=title>WakeGP 25 Jul 2025 Devlog</h1><p class=post-meta dir=auto><span class=post-meta></span></p></div></div><div class=markdown><p>Checking the project&rsquo;s <code>git log</code>, the first commit is in early 2023. And now at the time of writing this devlog, it&rsquo;s mid 2025. 2.5 years since I started WakeGP research has passed. As the first research project, I chose something big. This, and at the same time the gray dog tying me hands, made this research take more than 2 years.</p><p>The problem with gray dog ruling you is not just that you&rsquo;ll have reduced work hours. But also that you&rsquo;ll have lower concentration. And this could result in a negative impact. Various ridiculous bugs which I found in feature extraction. And those made all my 6 months(or more) of experiments, all in vein.</p><p>The goal I have for WakeGP is training sequential programs which detect if a specific wake word has been spoken. And I&rsquo;ve chosen Genetic Programming to achieve this goal. At the time of writing this log, I&rsquo;ve done several experiments to realize so many times I had chosen the wrong route.</p><p>First and most important, for a long time, I didn&rsquo;t have an almost formal process to learn which direction should I take. That is you do like 500 runs for two setups and see which one will perform better. But there is a Persian proverb which says whenever you catch the fish, it&rsquo;s fresh. I think in English they might say late is better than never.</p><h2 id=light-quick-experiments>Light quick experiments</h2><p>I did some experiments with a small fraction of the dataset. Like 800 data points for each class. These experiments included:</p><ul><li>Best values for combinations of <code>register,coefficients</code> number. I found that <code>r=8,coeff=20</code> is the best</li><li>What to do with &ldquo;overflow&rdquo; and anormal numbers. In some data points and with some programs, the values of registers grow too big and become infinite. Then the output register&rsquo;s value might become anormal, including <code>NaN</code>. And then you can&rsquo;t determine its sign, which is the prediction. I came to the conclusion that I let these anormalies happen. Then when the output is anormal, I define it as false prediction.</li><li>Effect of my invented parsimony pressure method in combination with deletion mutation. The parameters are <code>n</code> for my method, chance of mutation and deletions per mutation. That is, for each program to be mutated, how many instructions are affected. I came to the conclusion that a big chance of mutation, like over <code>0.5</code>, with a small number of deletions per mutation and <code>BestAndWorst = 4</code> have the best results with respect to both average size and fitness.</li><li>Best value for FFT size. I found that a value from <code>7000</code> to <code>8000</code> yields the best for a sample rate of <code>48000</code></li><li>Utility of <code>Oversize</code> feature of WakeGP. This is still unknown. But it seems <code>Oversize</code> causes the population to converge much faster when used with <code>Tournment > 8</code>, <code>Truncate</code> or <code>Average</code> selection methods. And of course, it significantly grows the average size.</li><li>Which instruction set performs the best.</li></ul><p>Validity of these experiments are of great question:</p><ul><li>I&rsquo;ve used only 800+800 data points for the train dataset. If I use a realistic value, like 10k, would I get the same results?</li><li>Accuracy of these runs are around 80%. Are these data also valid when the programs become more accurate than 95% which is the project goal?</li></ul><h2 id=heavy-experiments>Heavy experiments</h2><p>I wrote a small Python script to test 1680 different combinations of parameters. What I included was number of registers, coefficients, constants, maximum size limit and FFT size. There were a total of ~90k runs.</p><ul><li>The values for <code>register_cells</code> were <code>{8, 16, 32, 64, 128}</code></li><li>The values for number of coefficients were <code>{10, 20, 40, 80, 100, 120}</code></li><li>The values for FFT size were <code>{1000, 2000, 4000, 7000, 8000, 12000}</code></li><li>The values for number of constants were <code>{8, 16, 32, 64}</code></li><li>The values for size limit <code>{512, 1024}</code></li><li><code>6000+1000</code> data point were used as the train dataset.</li></ul><p>The best found combinations are:</p><pre tabindex=0><code>reg.coeff.fft.const.size_limit
32.20.8000.32.1024
16.20.8000.16.1024
32.20.7000.32.1024
32.20.8000.8.1024
32.20.7000.16.1024
16.20.8000.32.1024
32.20.8000.16.1024
32.20.8000.64.1024
16.20.8000.8.1024
32.20.8000.32.1536
</code></pre><p>All of these have got <code>deletion_mutation_rate = 0.5</code>, <code>deletions_per_mutation = 4</code> and <code>parsimony = { BestAndWorst = 4 }</code>. As you can see, an FFT size of <code>7000</code> to <code>8000</code> yields the best results for this sample rate. And there is no combination with a limit of <code>512</code> instructions. Also unlike what I concluded in my &ldquo;light and quick&rdquo; experiments, a number of 8 for registers wasn&rsquo;t good.</p><p>The last combination wasn&rsquo;t part of the initial experiments. However, I tested a higher limit manually to see if I could get better fitness values. As you can see, a big number of constants is favored.</p><p>So many questions remain unanswered:</p><ul><li>How many of the constants did programs use? When doing these experiments, the software didn&rsquo;t have a feature to output this.</li><li>How many of the coefficients, out of the 20, did the programs use? I tried doing feature selection at the same time.</li><li>Would a bigger number for register cells yield better results? Like <code>48</code>?</li><li>How much are these size limits valid for higher accuracies?</li><li>Did my method to control sizes, also handicap the programs to have lower accuracy?</li></ul><h2 id=future-experiments>Future experiments</h2><p>Today, some new features has been added to WakeGP, walking a new direction. First, the features and constants which the best found individual uses, are printed. Second, a new config, <code>dataset_config.selected_features</code> which is an array of integers has been added. Combined, this allows testing different features. One can do like 200 runs. Then using the features which are commonly selected among best performing runs, we can then evolve programs to use only those specific features.</p><p>Note that <code>dataset_config.selected_features</code> is optional and as its positions suggests, it can be used with both <code>from_wave</code> and <code>from_csv</code>.</p></div><div class=tags dir=auto><div class=taxosfloating_left><p>Categories</p></div><div class=termsfloating_right><p><a href=/categories/computing/>computing</a></p></div><div class=clearit></div></div></article></div></main><footer>(C) Some rights are reserved under CC-BY-SA 4.0 for Farooq Karimi Zadeh</footer><script src=/js/dark-mode.js></script></body></html>