<!doctype html><html lang=en><head><meta charset=UTF-8><title>Converting PDF to Image in Python(the Right Way) | Farooq's</title>
<meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=generator content="Hugo 0.139.3"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content="Farooq,Farooq Karimi Zadeh,farooqkz"><link rel=icon type=image/png href=/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicon-16x16.png sizes=16x16><link rel=stylesheet type=text/css media=screen href=/css/normalize.css><link rel=stylesheet type=text/css media=screen href=/css/main.css><link rel=stylesheet type=text/css media=screen href=/css/all.css><link rel=stylesheet href=/css/katex.css crossorigin=anonymous><script defer src=/js/katex.js integrity=sha384-HELAAZU8xvHgfT/8z4Mhmu+E2z3oBrMEuywaMh/CEd5uTZIDSct7TEaX+S43+dOi crossorigin=anonymous></script><script defer src=/js/auto-render.js integrity=sha384-0QrOZ8WIARJUoT5pH7Iuzi7iq0mXUXLF9yj5ZvYxTkMRv1zcaPQiOQ9ksHYbKw7M crossorigin=anonymous onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><meta property="og:url" content="http://far.chickenkiller.com/computer/converting-pdf-to-image-in-python-the-right-way/"><meta property="og:site_name" content="Farooq's"><meta property="og:title" content="Converting PDF to Image in Python(the Right Way)"><meta property="og:description" content="If you use your favorite search engine to learn how to “convert pdf to image” in Python, you will find many websites like GeeksforGeeks introducing pdf2image to accomplish this goal.
As you can in pdf2image’s PyPI page, it is just a wrapper around pdftoppm while pdftoppm itself is part of poppler. Basically, pdf2image module invokes pdftoppm with subprocess Python standard module which is for invoking subprocesses, controling them and capturing their output all from Python."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="computer"><meta property="article:published_time" content="2022-04-13T19:00:32+04:30"><meta property="article:modified_time" content="2022-04-13T19:00:32+04:30"><meta name=twitter:card content="summary"><meta name=twitter:title content="Converting PDF to Image in Python(the Right Way)"><meta name=twitter:description content="If you use your favorite search engine to learn how to “convert pdf to image” in Python, you will find many websites like GeeksforGeeks introducing pdf2image to accomplish this goal.
As you can in pdf2image’s PyPI page, it is just a wrapper around pdftoppm while pdftoppm itself is part of poppler. Basically, pdf2image module invokes pdftoppm with subprocess Python standard module which is for invoking subprocesses, controling them and capturing their output all from Python."><meta itemprop=name content="Converting PDF to Image in Python(the Right Way)"><meta itemprop=description content="If you use your favorite search engine to learn how to “convert pdf to image” in Python, you will find many websites like GeeksforGeeks introducing pdf2image to accomplish this goal.
As you can in pdf2image’s PyPI page, it is just a wrapper around pdftoppm while pdftoppm itself is part of poppler. Basically, pdf2image module invokes pdftoppm with subprocess Python standard module which is for invoking subprocesses, controling them and capturing their output all from Python."><meta itemprop=datePublished content="2022-04-13T19:00:32+04:30"><meta itemprop=dateModified content="2022-04-13T19:00:32+04:30"><meta itemprop=wordCount content="428"><script data-goatcounter=https://farooqkz.goatcounter.com/count>(function(){"use strict";window.goatcounter&&window.goatcounter.vars?window.goatcounter=window.goatcounter.vars:window.goatcounter=window.goatcounter||{};var e,t,n,o,i,a,r,c,l,d,u,s=document.querySelector("script[data-goatcounter]");if(s&&s.dataset.goatcounterSettings){try{o=JSON.parse(s.dataset.goatcounterSettings)}catch(e){console.error("invalid JSON in data-goatcounter-settings: "+e)}for(i in o)["no_onload","no_events","allow_local","allow_frame","path","title","referrer","event"].indexOf(i)>-1&&(window.goatcounter[i]=o[i])}e=encodeURIComponent,l=function(e){var s,o,i,t={p:e.path===void 0?goatcounter.path:e.path,r:e.referrer===void 0?goatcounter.referrer:e.referrer,t:e.title===void 0?goatcounter.title:e.title,e:!!(e.event||goatcounter.event),s:[window.screen.width,window.screen.height,window.devicePixelRatio||1],b:d(),q:location.search};return typeof t.r=="function"&&(s=t.r),typeof t.t=="function"&&(i=t.t),typeof t.p=="function"&&(o=t.p),n(t.r)&&(t.r=document.referrer),n(t.t)&&(t.t=document.title),n(t.p)&&(t.p=r()),s&&(t.r=s(t.r)),i&&(t.t=i(t.t)),o&&(t.p=o(t.p)),t},n=function(e){return e==null||typeof e=="function"},d=function(){var e=window,t=document;return e.callPhantom||e._phantom||e.phantom?150:e.__nightmare?151:t.__selenium_unwrapped||t.__webdriver_evaluate||t.__driver_evaluate?152:navigator.webdriver?153:0},u=function(t){var n,s=[];for(n in t)t[n]!==""&&t[n]!==null&&t[n]!==void 0&&t[n]!==!1&&s.push(e(n)+"="+e(t[n]));return"?"+s.join("&")},t=function(e){console&&"warn"in console&&console.warn("goatcounter: "+e)},a=function(){var e=document.querySelector("script[data-goatcounter]");return e&&e.dataset.goatcounter?e.dataset.goatcounter:goatcounter.endpoint||window.counter},r=function(){var e,t=location,n=document.querySelector('link[rel="canonical"][href]');return n&&(e=document.createElement("a"),e.href=n.href,e.hostname.replace(/^www\./,"")===location.hostname.replace(/^www\./,"")&&(t=e)),t.pathname+t.search||"/"},c=function(e){document.body===null?document.addEventListener("DOMContentLoaded",function(){e()},!1):e()},goatcounter.filter=function(){return"visibilityState"in document&&document.visibilityState==="prerender"?"visibilityState":!goatcounter.allow_frame&&location!==parent.location?"frame":!goatcounter.allow_local&&location.hostname.match(/(localhost$|^127\.|^10\.|^172\.(1[6-9]|2[0-9]|3[0-1])\.|^192\.168\.|^0\.0\.0\.0$)/)?"localhost":!goatcounter.allow_local&&location.protocol==="file:"?"localfile":!!(localStorage&&localStorage.getItem("skipgc")==="t")&&"disabled with #toggle-goatcounter"},window.goatcounter.url=function(e){var s,n=l(e||{});if(n.p===null)return;return n.rnd=Math.random().toString(36).substr(2,5),s=a(),s?s+u(n):t("no endpoint found")},window.goatcounter.count=function(e){var n,s,i,o=goatcounter.filter();if(o)return t("not counting because of: "+o);if(s=goatcounter.url(e),!s)return t("not counting because path callback returned null");navigator.sendBeacon(s)||(n=document.createElement("img"),n.src=s,n.style.position="absolute",n.style.bottom="0px",n.style.width="1px",n.style.height="1px",n.loading="eager",n.setAttribute("alt",""),n.setAttribute("aria-hidden","true"),i=function(){n&&n.parentNode&&n.parentNode.removeChild(n)},n.addEventListener("load",i,!1),document.body.appendChild(n))},window.goatcounter.get_query=function(e){for(var n=location.search.substr(1).split("&"),t=0;t<n.length;t++)if(n[t].toLowerCase().indexOf(e.toLowerCase()+"=")===0)return n[t].substr(e.length+1)},window.goatcounter.bind_events=function(){if(!document.querySelectorAll)return;var e=function(e){return function(){goatcounter.count({event:!0,path:e.dataset.goatcounterClick||e.name||e.id||"",title:e.dataset.goatcounterTitle||e.title||(e.innerHTML||"").substr(0,200)||"",referrer:e.dataset.goatcounterReferrer||e.dataset.goatcounterReferral||""})}};Array.prototype.slice.call(document.querySelectorAll("*[data-goatcounter-click]")).forEach(function(t){if(t.dataset.goatcounterBound)return;var n=e(t);t.addEventListener("click",n,!1),t.addEventListener("auxclick",n,!1),t.dataset.goatcounterBound="true"})},window.goatcounter.visit_count=function(n){c(function(){n=n||{},n.type=n.type||"html",n.append=n.append||"body",n.path=n.path||r(),n.attr=n.attr||{width:"200",height:n.no_branding?"60":"80"},n.attr.src=a()+"er/"+e(n.path)+"."+e(n.type)+"?",n.no_branding&&(n.attr.src+="&no_branding=1"),n.style&&(n.attr.src+="&style="+e(n.style)),n.start&&(n.attr.src+="&start="+e(n.start)),n.end&&(n.attr.src+="&end="+e(n.end));var s,o,c,i={png:"img",svg:"img",html:"iframe"}[n.type];if(!i)return t("visit_count: unknown type: "+n.type);n.type==="html"&&(n.attr.frameborder="0",n.attr.scrolling="no"),s=document.createElement(i);for(c in n.attr)s.setAttribute(c,n.attr[c]);if(o=document.querySelector(n.append),!o)return t("visit_count: append not found: "+n.append);o.appendChild(s)})},location.hash==="#toggle-goatcounter"&&(localStorage.getItem("skipgc")==="t"?(localStorage.removeItem("skipgc","t"),alert("GoatCounter tracking is now ENABLED in this browser.")):(localStorage.setItem("skipgc","t"),alert("GoatCounter tracking is now DISABLED in this browser until "+location+" is loaded again."))),goatcounter.no_onload||c(function(){if(!("visibilityState"in document)||document.visibilityState==="visible")goatcounter.count();else{var e=function(){if(document.visibilityState!=="visible")return;document.removeEventListener("visibilitychange",e),goatcounter.count()};document.addEventListener("visibilitychange",e)}goatcounter.no_events||goatcounter.bind_events()})})()</script></head><body><header><div id=avatar><a href=http://far.chickenkiller.com/><img src=/mylogo0.png alt="Farooq's"></a></div><div id=titletext><h2 id=titleonly><a href=http://far.chickenkiller.com/>Farooq's</a></h2></div><div id=title-social><div id=social><nav><ul><li><a href=/index.xml rel=me aria-label=RSS><span title=RSS class="icons fas fa-rss" aria-hidden=true></span></a></li><li><a href=https://github.com/farooqkz rel=me aria-label=Github><span title=Github class="icons fab fa-github" aria-hidden=true></span></a></li><li><a href=https://blackrock.city/@farooqkz rel=me aria-label=Mastodon><span title=Mastodon class="icons fab fa-mastodon" aria-hidden=true></span></a></li><li><button id=dark-mode aria-label="Switch Dark Mode"><span title="Switch Dark Mode" class="icons fas fa-moon" aria-hidden=true></span></button></li></ul></nav></div></div><div id=mainmenu><nav><ul><li><a href=/>Home</a></li><li><a href=/math>Math</a></li><li><a href=/computer>Computing</a></li><li><a href=/religion>Religion</a></li><li><a href=/other>Other</a></li><li><a href=/_pages/about-me>About me</a></li></ul></nav></div></header><main><div class=post><article><div class=post-header><div class=meta><div class=date><span class=day>13</span>
<span class=rest>Apr 2022</span></div></div><div class=matter><h1 class=title>Converting PDF to Image in Python(the Right Way)</h1><p class=post-meta><span class=post-meta></span></p></div></div><div class=markdown><p><figure><img src=https://farooqkz.de1.hashbang.sh/count/tag.svg alt="dot for stats"></figure></p><p>If you use your favorite search engine to learn how to &ldquo;convert pdf to image&rdquo; in Python, you will find many websites like <a href=https://www.geeksforgeeks.org/convert-pdf-to-image-using-python/ target=_blank>GeeksforGeeks</a> introducing <a href=https://pypi.org/project/pdf2image/ target=_blank>pdf2image</a> to accomplish this goal.</p><p>As you can in pdf2image&rsquo;s PyPI page, it is just a wrapper around <a href="https://manpage.me/?q=pdftoppm" target=_blank>pdftoppm</a> while <code>pdftoppm</code> itself is part of poppler. Basically, pdf2image module invokes <code>pdftoppm</code> with <a href=https://docs.python.org/3/library/subprocess.html target=_blank>subprocess</a> Python standard module which is for invoking subprocesses, controling them and capturing their output all from Python.</p><p>So I was wondering, why not use the poppler C++ library itself to convert PDF file to Image?</p><p>After some searching in <a href=https://pypi.org target=_blank>PyPI</a> I&rsquo;ve found <a href=https://pypi.org/project/python-poppler/ target=_blank>python-poppler</a> which is a wrapper around poppler C++ library which is for reading PDF files, extracting text from them and converting their pages to image file formats.</p><p>Here I want to teach you how to use poppler from Python to convert the first page of a PDF to Image and save it somewhere in your <code>/tmp/</code>.</p><p>The zeroth step as always is installing the library:</p><pre tabindex=0><code>pip3 install python-poppler --user
</code></pre><p>python-poppler relies on poppler C++ library to function and is just a wrapper for that so you need to install it as well. Here I assume you already have it installed on your computer. But in the case it isn&rsquo;t, you will find pip3 cursing you with errors!</p><p>The first step is, of course, firing up the Python(3) thing and importing <code>load_from_file</code> and <code>PageRenderer</code>:</p><pre tabindex=0><code>Python 3.8.10 (default, Mar 15 2022, 12:22:08) 
[GCC 9.4.0] on linux
Type &#34;help&#34;, &#34;copyright&#34;, &#34;credits&#34; or &#34;license&#34; for more information.
&gt;&gt;&gt; from poppler import load_from_file, PageRenderer
&gt;&gt;&gt; 
</code></pre><p><code>load_from_file</code> is used to load a PDF file from filesystem as it sounds.
And <code>PageRenderer</code> is used to render a page of some PDF document into an image.</p><p>In the case you need to load the PDF from bytes(e.g. when you are receiving it from network such as a web API which receives data from its clients) you must go with <code>load_from_data</code>, instead(See <a href=https://cbrunet.net/python-poppler/api/poppler.html#module-poppler target=_blank>here</a>).</p><p>Next you must load the PDF file with its name:</p><pre tabindex=0><code>&gt;&gt;&gt; document = load_from_file(&#34;probability_cheatsheet.pdf&#34;)
</code></pre><p>Now <code>document</code> is a <a href=https://cbrunet.net/python-poppler/usage.html#working-with-documents target=_blank>Document</a> object with which you can read its title or number of pages and many other properties:</p><pre tabindex=0><code>&gt;&gt;&gt; document.pages
10
&gt;&gt;&gt; document.page_layout
&lt;page_layout_enum.no_layout: 0&gt;
&gt;&gt;&gt; document.page_mode
&lt;page_mode_enum.use_outlines: 1&gt;
&gt;&gt;&gt; document.producer
&#39;pdfTeX-1.40.14&#39;
</code></pre><p>Next, you can create an instance of <code>PageRenderer</code> and create an image of the first page:</p><pre tabindex=0><code>&gt;&gt;&gt; renderer = PageRenderer()
&gt;&gt;&gt; page1 = document.create_page(0)
&gt;&gt;&gt; renderer.
&gt;&gt;&gt; img = renderer.render_page(page1)
&gt;&gt;&gt; img
&lt;poppler.image.Image object at 0x7f3652f44310&gt;
</code></pre><p>Now it is time to save the image as PNG:</p><pre tabindex=0><code>&gt;&gt;&gt; img.save(&#34;/tmp/pc.png&#34;, out_format=&#34;png&#34;)
True
</code></pre><p>And voila! You&rsquo;ve done that!</p><script type=text/javascript src=/cactus.js></script><link rel=stylesheet href=/style.css type=text/css><div id=comment-section></div><script>window.onload=()=>initComments({node:document.getElementById("comment-section"),defaultHomeserverUrl:"https://matrix.cactus.chat:8448",serverName:"cactus.chat",siteName:"far.chickenkiller.com",commentSectionId:"converting-pdf-to-image-in-python-the-right-way.md"})</script></div></div></article></div></main><footer>(C) Some rights are reserved under CC-BY-SA 4.0 for Farooq Karimi Zadeh</footer><script src=/js/dark-mode.js></script></body></html>